<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://use.typekit.net/yfw3xxz.css">
    <style>
        body,
        html {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', sans-serif;
            height: 100%;
            background-color: #f4f4f4;
        }

        header {
            z-index: 999;
        }

        a {
            text-decoration: none;
        }

        /* Header Section */
header {
  background: #ffffff; /* White background for clean official look */
  padding: 20px 40px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  position: sticky;
  top: 0;
  z-index: 1000;
}

/* Heading area */
.headers {
  display: flex;
  align-items: center;
  gap: 15px;
}

.logo {
  height: 90px;
}

.mainheading {
  font-size: 45px;
  font-weight: bold;
  color: #2c3e50;  /* Dark official text */
  background: #ffffff;
  padding: 5px 12px;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

/* Navigation Menu */
.topnav {
  margin-top: 20px;
  /* background: linear-gradient(90deg, #34495e, #2c3e50); Stylish dark gradient */
  padding: 15px 30px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
.topnav ul li {
  display: inline-block;
}
.topnav ul {
  list-style: none;
  justify-content: center;
  margin: 0;
  padding: 0;
  display: flex;
  gap: 70px;
}

.topnav ul li a {
   display: inline-block;
  color: #2c3e50; /* normal text color */
  padding: 10px 5px;
  border-radius: 8px;
  text-decoration: none; /* remove underline */
  transition: all 0.3s ease; /* smooth effect */
  font-size: 22px;   /* ğŸ‘ˆ change this value */
  font-weight: 600;
}


.topnav ul li a:hover {
    background: #696969; /* #2F4F4F    #6495ED*/
  color: #000; /* keep text visible */
  padding: 12px 24px; /* increase size on hover */
  border-radius: 12px; /* smoother corners */
}



/* Hover underline animation */
.topnav ul li a::after {
  content: '';
  position: absolute;
  width: 0%;
  height: 3px;
  left: 50%;
  bottom: -6px;
  
  transition: all 0.3s ease;
  border-radius: 5px;
}

.topnav ul li a:hover {
  color: whitesmoke; 
}

.topnav ul li a:hover::after {
 width: 100%;
  left: 0;
}

        .quote {
            text-align: center;
            color: #FF8C00;
            font-size: 35px;
            font-weight: bold;
            margin-top: 20px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }

        .search-language {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px auto;
            flex-wrap: wrap;
        }

        .searchbar,
        .language {
            padding: 12px;
            font-size: 16px;
            width: 300px;
            border: 1px solid #ccc;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .searchbar:focus,
        .language:focus {
            border-color: #FF8C00;
            box-shadow: 0 0 8px rgba(255, 140, 0, 0.5);
            outline: none;
        }

        .ctasection {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .calltoaction {
            background-color: #FF5722;
            color: white;
            padding: 14px 24px;
            border-radius: 8px;
            font-weight: bold;
            transition: 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .calltoaction:hover {
            background-color: #E64A19;
            transform: translateY(-2px);
        }


        .calltoaction i {
            margin-right: 8px;
            vertical-align: middle;
        }

        .grid {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-top: 40px;
            margin-bottom: 20px;
            color: #222;
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
            max-width: 1000px;
            margin: auto;
        }

        .category-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            background: #f4f4f4;
            padding: 20px;
            border-radius: 12px;
            text-decoration: none;
            color: #333;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: 0.3s ease;
        }

        .category-box:hover {
            background-color: #ffe0b2;
            transform: translateY(-5px);
        }

        .category-box i {
            font-size: 32px;
            margin-bottom: 10px;
            color: #ff6f00;
        }

        .category-section,
        .testimonials {
            color: #4B0082;
        }

        .work-section,
        .benifit-section {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin: 40px auto;
            max-width: 900px;
        }

        .work,
        .benifits {
            text-align: center;
            color: #4B0082;
            margin-bottom: 20px;
        }

        .work-section h2,
        .benifit-section h2 {
            font-size: 20px;
            margin: 10px 0;
            color: #37474F;
        }

        .benifit i {
            color: #2E7D32;
            margin-right: 8px;
        }

        .cards {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .card {
            background-color: #F5F5F5;
            border-radius: 12px;
            padding: 20px;
            width: 300px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .card p {
            color: #37474F;
            font-style: italic;
        }

        .card h4 {
            color: #1A237E;
            margin-top: 10px;
        }

        .site-footer {
            background-color: #1e1e2f;
            color: #f0f0f0;
            padding: 40px 20px 20px;
            font-family: 'Segoe UI', sans-serif;
            font-size: 15px;
            position: relative;
            z-index: 1;
        }

        .footer-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            gap: 30px;
            max-width: 1200px;
            margin: auto;
        }

        .footer-section {
            flex: 1 1 220px;
            min-width: 200px;
        }

        .footer-section h3 {
            color: #FF9800;
            font-size: 18px;
            margin-bottom: 12px;
        }

        .footer-section ul {
            list-style: none;
            padding: 0;
            line-height: 1.7;
        }

        .footer-section ul li a {
            color: #f0f0f0;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-section ul li a:hover {
            color: #FF9800;
        }

        .footer-credits {
            max-width: 1200px;
            margin: 30px auto 10px;
            padding-top: 15px;
            border-top: 1px solid #444;
            font-size: 14px;
            color: #ccc;
            text-align: center;
            line-height: 1.8;
        }

        .footer-credits ul {
            list-style: none;
            padding: 0;
            margin: 8px 0;
        }

        .footer-bottom {
            text-align: center;
            border-top: 1px solid #444;
            padding-top: 15px;
            margin-top: 30px;
            font-size: 14px;
            color: #ccc;
        }

        main {
            margin-bottom: 180px;
        }

        .one {
            color: darkorange;
        }

        #searchLawBtn {
            cursor: pointer;
        }

        /* Floating Button */
#chatbot-toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #007bff;
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  font-size: 24px;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transition: background 0.3s;
}

#chatbot-toggle:hover {
  background: #0056b3;
}

/* Chat Window */
.chat-container {
  position: fixed;
  bottom: 90px;
  right: 20px;
  width: 350px;
  height: 450px;
  background: #fff;
  border-radius: 12px;
  border: 1px solid #ddd;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  display: none; /* hidden by default */
  flex-direction: column;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

.chat-box {
  padding: 10px;
  flex: 1;
  overflow-y: auto;
  background: #f9f9f9;
  display: flex;
  flex-direction: column;
}
.chat-container {
  width: 400px;
  margin: auto;
  border: 1px solid #ddd;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  font-family: Arial, sans-serif;
}

.chat-box {
  padding: 10px;
  height: 400px;
  overflow-y: auto;
  background: #f9f9f9;
  display: flex;
  flex-direction: column;
}

.message {
  max-width: 75%;
  padding: 10px 14px;
  margin: 5px;
  border-radius: 16px;
  line-height: 1.4;
}

.bot-message {
  background: #e6e6e6;
  align-self: flex-start;
  border-top-left-radius: 4px;
  display: flex;
  gap: 8px;
  align-items: flex-start;
}

.bot-icon {
  width: 24px;
  height: 24px;
  background: #007bff;
  color: #fff;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 14px;
}

.user-message {
  background: #007bff;
  color: #fff;
  align-self: flex-end;
  border-top-right-radius: 4px;
}

.quick-replies {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin: 6px 0 0 30px;
}

.quick-replies button {
  background: #f1f1f1;
  border: none;
  border-radius: 20px;
  padding: 6px 12px;
  cursor: pointer;
}

.quick-replies button:hover {
  background: #ddd;
}

.chat-input {
  display: flex;
  border-top: 1px solid #ddd;
}

.chat-input input {
  flex: 1;
  border: none;
  padding: 10px;
  font-size: 14px;
}

.chat-input button {
  background: #007bff;
  color: white;
  border: none;
  padding: 10px 15px;
  cursor: pointer;
}


    </style>

</head>

<body>
    <main>
        
<header>
    <div class="headers">
        <img class="logo" src="logo_transparent_resized(1).png">
        <h1 class="mainheading" id="mainheading">Pocket Lawyer</h1>
    </div>

    <!-- Top Navbar -->
    <nav class="topnav">
        <ul>
            <li><a href="index.html" id="home">ğŸ  Home</a></li>
            <li><a href="lawcategories.html" id="lawc">âš– Law Categories</a></li>
            <li><a href="generatedocuments.html" id="gene">âœ Generate Documents</a></li>
            <li><a href="askalawyer.html" id="aska">ğŸ’¬ Ask a Lawyer</a></li>
            <li><a href="contact.html" id="contact">ğŸ“ Contact</a></li>
        </ul>
    </nav>
</header>

        
        <div style="margin-right: 250px; padding: 20px;" class="content">
            <h1 class="quote" id="quote">Know Your Rights. Get Help Instantly.</h1>
            <div class="search-language">
                <input type="text" id="searchQuery" class="searchbar" placeholder="Search your legal problem..."
                    id="lsearch">
                <select class="language" id="languageSelector">
                    <option>Select Language</option>
                    <option value="en">English</option>
                    <option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€</option>
                    <option value="te">à°¤à±†à°²à±à°—à±</option>
                </select>

            </div>

            <div class="ctasection">
                <a href="#" class="calltoaction" id="searchLawBtn">ğŸ” Search
                    Law</a>
                <a href="generatecomplaintletter.html" class="calltoaction" id="ctaGenerate">ğŸ“„ Generate Complaint
                    Letter</a>
                <a href="askaquestion.html" class="calltoaction" id="ctaQuestion">ğŸ’¬ Ask a
                    Question</a>

            </div>
            <h1 class="category-section" id="popular">Popular Law Categories:</h1>
            <div class="grid">
                <div class="column">
                    <a href="trafficviolations.html" class="category-box" id="traffic">ğŸš—ğŸ’¥<br>
                        <span>Traffic Violations</span></a>
                    <a href="rentortenantissues.html" class="category-box" id="renthome">ğŸ 
                        <span>Rent/Tenant Issues</span></a>
                    <a href="womenssafetylaws.html" class="category-box" id="women">ğŸ‘§
                        <span>Women's Safety Laws</span></a>
                </div>
                <div class="column">
                    <a href="consumercomplaints.html" class="category-box" id="consumer">ğŸ“¦ğŸ“¦
                        <span>Consumer Complaints</span></a>
                    <a href="cyberbullying.html" class="category-box" id="cyber">ğŸ›¡
                        <span>Cyber
                            bullying and Digital Safety</span></a>
                    <a href="howtofileacomplaint.html" class="category-box" id="file">ğŸ“„
                        <span>How to file a complaint</span></a>
                </div>
            </div>
            <div class="work-section">
                <h1 class="work" id="howitworks">How it works?</h1>
                <h2 id="step1"><span class="one">Step1 : </span><span class="two">Search your problem</span></h2>
                <h2 id="step2"><span class="one">Step2 : </span><span class="two">Read legal info</span></h2>
                <h2 id="step3"><span class="one">Step3 : </span><span class="two">Generate a document</span></h2>
                <h2 id="step4"><span class="one">Step4 : </span><span class="two">Take action</span></h2>
            </div>
            <div class="benifit-section">
                <h1 class="benifits" id="benefits">Benefits</h1>
                <h2 class="benifit" id="b1">ğŸ‘¤ No lawyer needed for small issues
                </h2>
                <h2 class="benifit" id="b2">ğŸŒ Get help in your language</h2>
                <h2 class="benifit" id="b3">ğŸ“„ Free document generation</h2>
                <h2 class="benifit" id="b4">ğŸ“– Legal info in simple words</h2>
            </div>
            <div class="testimonials">
                <h1 class="report" id="testimonialTitle">Testimonials</h1>
                <h2 class="users" id="testimonialSubtitle" style="text-align: center; color:#0D47A1;">What Users Say
                </h2>
                <div class="cards">
                    <div class="card">
                        <p id="ldata1">"I created a complaint within 2 minutes. Very helpful!"</p>
                        <h4 id="lvalue1">- Rajesh, Mumbai</h4>
                    </div>
                    <div class="card">
                        <p id="ldata2">"Filing a complaint in my language was so easy."</p>
                        <h4 id="lvalue2">- Priya, Delhi</h4>
                    </div>
                    <div class="card">
                        <p id="ldata3">"I didn't even need a lawyer for basic help."</p>
                        <h4 id="lvalue3">- Lakshmi, Hyderabad</h4>
                    </div>
                </div>

            </div>
        </div>


        <!-- Floating Chatbot Button -->
<button id="chatbot-toggle">ğŸ’¬</button>

<!-- Chat Window -->
<div class="chat-container" id="chat-container">
  <div id="chat-box" class="chat-box">
    <!-- Chat messages will appear here -->
  </div>

  <div class="chat-input">
    <input id="userInput" type="text" placeholder="Type your message..." />
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

        
<footer class="site-footer">
    <div class="footer-container">
        <!-- Quick Links -->
        <div class="footer-section">
            <h3 id="llink">Quick Links</h3>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="lawcategories.html">Law Categories</a></li>
                <li><a href="generatedocuments.html">Generate Documents</a></li>
                <li><a href="askalawyer.html">Ask a Lawyer</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>

        <!-- Legal Links -->
        <div class="footer-section">
            <h3 id="llegal">Legal</h3>
            <ul>
                <li><a href="#" id="lpp">Privacy Policy</a></li>
                <li><a href="#" id="ltc">Terms & Conditions</a></li>
                <li><a href="#" id="ld">Disclaimer</a></li>
            </ul>
        </div>

        <!-- Contact Info -->
        <div class="footer-section">
            <h3 id="lch">Contact</h3>
            <ul>
                <li id="lemaill">Email: pocketlawyerindia1950@gmail.com</li>
                <li id="lphone">Phone: +91-8985579260</li>
                <li id="laddress">Address: Pulivendula, India</li>
            </ul>
        </div>
    </div>

    <!-- Credits Section -->
    <div class="footer-credits">
        <p id="ljustice">ğŸŒŸ Made for Justice, by Students of India</p>
        <p id="lheart">â¤From the hearts of Indian students, for the voice of every citizen</p>
        <p id="lbharat"> Proudly Built in Bharat, for Every Indian in Need of Justice</p>
        <p id="lteam"><strong>Project Team â€“ Pocket Lawyer</strong></p>
        <ul>
            <li id="geethika">Geethika Reddy Marujolla</li>
            <li id="reshma">Reshma Shaik</li>
            <li id="snehitha">Snehitha Reddy Moilla</li>
        </ul>
        <p id="ldiploma">ğŸ“ Diploma Final Year, Department of CME, Loyola Polytechnic</p>
    </div>

    <!-- Copyright -->
    <div class="footer-bottom">
        <p id="lfooter">Â© 2025 Pocket Lawyer. All rights reserved.</p>
    </div>
</footer>
    </main>
    <script src="translations.js"></script>
    <script src="languageManager.js"></script>

    <script>
       
        // Original functionality
        document.getElementById("searchLawBtn").addEventListener("click", function () {
            const query = document.getElementById("searchQuery").value.trim();
            let lang = document.getElementById("languageSelector").value;

            if (!lang || lang === "Select Language") lang = "en";

            if (!query) {
                alert("Please enter a search term");
                return;
            }

            window.location.href = `law.html?query=${encodeURIComponent(query)}&lang=${lang}`;
        });

        // index.html
        document.getElementById('languageSelector').addEventListener('change', (e) => {
            languageManager.setLanguage(e.target.value);
        });

        function setLanguage(lang) {
            localStorage.setItem("language", lang);
            translatePage(lang); // Translate current page too
        }
        
        // Initialize on DOM load
        document.addEventListener("DOMContentLoaded", () => {
            // Set language from localStorage or default to 'en'
            languageManager.applyTranslations();

            // Update language selector (if present)
            const langSelector = document.getElementById("languageSelector");
            if (langSelector) {
                langSelector.value = languageManager.currentLanguage;
                langSelector.addEventListener("change", (e) => {
                    languageManager.setLanguage(e.target.value);
                });
            }
        });
        
        // In index.html
        document.getElementById("searchLawBtn").addEventListener("click", function () {
            const query = document.getElementById("searchQuery").value.trim();
            const lang = document.getElementById("languageSelector").value || 'en';

            if (query) {
                window.location.href = `law.html?query=${encodeURIComponent(query)}&lang=${lang}`;
            } else {
                alert("Please enter a search term");
            }
        });


    
// ================================
// Pocket Lawyer â€“ Chatbot Script
// ================================
(function () {
  // ---- Elements ----
  const toggleBtn       = document.getElementById("chatbot-toggle");
  const container       = document.getElementById("chatbot-container");
  const closeBtn        = document.getElementById("chatbot-close");
  const messagesEl      = document.getElementById("chatbot-messages");
  const inputEl         = document.getElementById("chatbot-input");
  const sendBtn         = document.getElementById("chatbot-send");

  if (!toggleBtn || !container || !closeBtn || !messagesEl || !inputEl || !sendBtn) {
    console.error("Chatbot: one or more required elements not found.");
    return;
  }

  let greetedOnce = false;

  // ---- Helpers ----
  function scrollToBottom() {
    messagesEl.scrollTop = messagesEl.scrollHeight;
  }

  function sanitize(str) {
    const div = document.createElement("div");
    div.textContent = str;
    return div.innerHTML;
  }

  function addBubble(html, who = "bot") {
    const wrap = document.createElement("div");
    wrap.className = who === "user" ? "user-msg" : "bot-msg";
    wrap.innerHTML = html;
    messagesEl.appendChild(wrap);
    scrollToBottom();
    return wrap;
  }

  function addQuickReplies(options = []) {
    // Remove previous chips
    document.querySelectorAll(".pl-quick-replies").forEach(el => el.remove());
    if (!options.length) return;

    const bar = document.createElement("div");
    bar.className = "pl-quick-replies";
    bar.style.display = "flex";
    bar.style.flexWrap = "wrap";
    bar.style.gap = "8px";
    bar.style.margin = "8px 0";

    options.forEach(opt => {
      const btn = document.createElement("button");
      btn.type = "button";
      btn.className = "pl-chip";
      btn.textContent = opt;
      btn.style.padding = "6px 10px";
      btn.style.borderRadius = "20px";
      btn.style.border = "1px solid #d0d7de";
      btn.style.background = "#fff";
      btn.style.cursor = "pointer";
      btn.style.fontSize = "12px";
      btn.addEventListener("click", () => {
        // Simulate user selecting the chip
        addBubble(sanitize(opt), "user");
        handleUserMessage(opt);
      });
      bar.appendChild(btn);
    });

    messagesEl.appendChild(bar);
    scrollToBottom();
  }

  function greetIfNeeded() {
    if (greetedOnce) return;
    greetedOnce = true;
    addBubble("ğŸ‘‹ Hi! Iâ€™m <b>Pocket Lawyer</b>. How can I help you today?");
    addQuickReplies([
      "Law Categories",
      "Generate Documents",
      "Ask a Lawyer",
      "Contact",
      "How to file a complaint"
    ]);
  }

  // ---- Knowledge / Intents ----
  const intents = [
    {
      keys: ["hello","hi","hey","good morning","good evening"],
      reply: "ğŸ‘‹ Hello! How can I assist you today?",
      chips: ["Law Categories","Generate Documents","Ask a Lawyer","Contact"]
    },
    {
      keys: ["home","main page","start","homepage"],
      reply: "ğŸ  Go to Home here ğŸ‘‰ <a href='index.html'>Home</a>"
    },
    {
      keys: ["law categories","categories","laws","browse laws"],
      reply: "âš–ï¸ Explore laws by topic ğŸ‘‰ <a href='lawcategories.html'>Law Categories</a>",
      chips: ["Traffic Violations","Consumer Complaints","Cyberbullying","Rent/Tenant Issues","Women's Safety"]
    },
    {
      keys: ["generate","documents","create document","complaint letter","draft"],
      reply: "ğŸ“„ Create letters & documents here ğŸ‘‰ <a href='generatedocuments.html'>Generate Documents</a>",
      chips: ["Generate Complaint Letter","How to file a complaint","Ask a Lawyer"]
    },
    {
      keys: ["ask a lawyer","lawyer","advise","advice","legal help"],
      reply: "ğŸ‘©â€âš–ï¸ Talk to a lawyer or submit a question ğŸ‘‰ <a href='askalawyer.html'>Ask a Lawyer</a>",
      chips: ["Contact","Generate Documents","Consumer Complaints"]
    },
    {
      keys: ["contact","support","email","phone","address"],
      reply: "â˜ï¸ Reach us here ğŸ‘‰ <a href='contact.html'>Contact</a><br>ğŸ“§ pocketlawyerindia1950@gmail.com<br>ğŸ“ +91-8985579260"
    },
    {
      keys: ["file complaint","complaint","raise issue","how to file"],
      reply: "ğŸ“ Step-by-step guide ğŸ‘‰ <a href='howtofileacomplaint.html'>How to file a complaint</a>",
      chips: ["Generate Complaint Letter","Ask a Lawyer","Consumer Complaints"]
    },
    {
      keys: ["consumer","refund","return","fraud","defective","complaints"],
      reply: "ğŸ›’ Know your consumer rights & remedies ğŸ‘‰ <a href='consumercomplaints.html'>Consumer Complaints</a>",
      chips: ["Generate Complaint Letter","Ask a Lawyer","Contact"]
    },
    {
      keys: ["traffic","challan","signal","driving","fine"],
      reply: "ğŸš— Traffic rules & common penalties ğŸ‘‰ <a href='trafficviolations.html'>Traffic Violations</a>"
    },
    {
      keys: ["rent","tenant","lease","landlord","evict","deposit"],
      reply: "ğŸ  Tenant & landlord rights ğŸ‘‰ <a href='rentortenantissues.html'>Rent/Tenant Issues</a>"
    },
    {
      keys: ["cyber","bully","online abuse","harassment","scam","phishing"],
      reply: "ğŸ›¡ï¸ Stay safe online & report abuse ğŸ‘‰ <a href='cyberbullying.html'>Cyber Bullying & Digital Safety</a>"
    },
    {
      keys: ["women","safety","posh","harassment at work"],
      reply: "ğŸ‘© Womenâ€™s safety laws & protections ğŸ‘‰ <a href='womenssafetylaws.html'>Women's Safety Laws</a>"
    },
    {
      keys: ["search","find law","look up"],
      reply: "ğŸ” Use the search bar on Home to find laws by keywords.",
      chips: ["Law Categories","Generate Documents","Ask a Lawyer"]
    },
    {
      keys: ["problem","issue","error","not working","bug","help"],
      reply: "âš ï¸ Sorry you're facing issues. Tell me what went wrong and Iâ€™ll guide you. You can also reach us at ğŸ‘‰ <a href='contact.html'>Contact</a>",
      chips: ["Contact","Ask a Lawyer","Home"]
    },
    {
      keys: ["thank you","thanks","thx","ty"],
      reply: "âœ… Youâ€™re welcome! If you need anything else, Iâ€™m here. ğŸ™‚",
      chips: ["Home","Law Categories","Generate Documents"]
    },
    {
      keys: ["bye","goodbye","see you","exit"],
      reply: "ğŸ‘‹ Goodbye! Have a great day. If you need help again, just click the ğŸ’¬ button."
    },
    // Smart link intent (specific phrasing like "where is lawyer page")
    {
      keys: ["where is lawyer page","lawyer page","find lawyer page"],
      reply: "ğŸ‘©â€âš–ï¸ Here it is ğŸ‘‰ <a href='askalawyer.html'>Ask a Lawyer</a>"
    }
  ];

  const defaultReply =
    "ğŸ¤” I didnâ€™t catch that. Try asking about <b>Home</b>, <b>Law Categories</b>, <b>Generate Documents</b>, <b>Ask a Lawyer</b>, <b>Contact</b>, or <b>How to file a complaint</b>.";

  function matchIntent(text) {
    const msg = text.toLowerCase();
    for (const intent of intents) {
      if (intent.keys.some(k => msg.includes(k))) return intent;
    }
    return null;
  }

  function handleUserMessage(raw) {
    // Remove chips when user sends a new message
    document.querySelectorAll(".pl-quick-replies").forEach(el => el.remove());

    const msg = String(raw || "").trim();
    if (!msg) return;

    // Bot thinking delay
    sendBtn.disabled = true;
    setTimeout(() => {
      const intent = matchIntent(msg);
      if (intent) {
        addBubble(intent.reply, "bot");
        if (intent.chips) addQuickReplies(intent.chips);
      } else {
        addBubble(defaultReply, "bot");
        addQuickReplies(["Home","Law Categories","Generate Documents","Ask a Lawyer","Contact"]);
      }
      sendBtn.disabled = false;
      inputEl.focus();
    }, 250);
  }

  // ---- Send flow ----
  function sendMessage() {
    const text = inputEl.value.trim();
    if (!text) return;
    addBubble(sanitize(text), "user");
    inputEl.value = "";
    handleUserMessage(text);
  }

  // ---- Event Listeners ----
  toggleBtn.addEventListener("click", () => {
    const showing = container.style.display === "flex";
    container.style.display = showing ? "none" : "flex";
    if (!showing) {
      greetIfNeeded();
      inputEl.focus();
    }
  });

  closeBtn.addEventListener("click", () => {
    container.style.display = "none";
    toggleBtn.focus();
  });

  sendBtn.addEventListener("click", sendMessage);

  inputEl.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      e.preventDefault();
      sendMessage();
    } else if (e.key === "Escape") {
      container.style.display = "none";
      toggleBtn.focus();
    }
  });

  // Close when clicking outside the chat (but not when clicking the toggle)
  document.addEventListener("click", (e) => {
    const clickedInside = container.contains(e.target);
    const clickedToggle = toggleBtn.contains(e.target);
    const isOpen = container.style.display === "flex";
    if (isOpen && !clickedInside && !clickedToggle) {
      container.style.display = "none";
    }
  });

  // Accessibility: open with Ctrl+/ and close with Esc anywhere
  document.addEventListener("keydown", (e) => {
    if (e.ctrlKey && e.key === "/") {
      container.style.display = "flex";
      greetIfNeeded();
      inputEl.focus();
    }
    if (e.key === "Escape" && container.style.display === "flex") {
      container.style.display = "none";
    }
  });

  // Optional: greet if the user keeps the page open for a bit
  setTimeout(() => {
    if (container.style.display !== "flex") {
      // show a gentle nudge by flashing the button
      toggleBtn.animate([{ transform: "scale(1)" }, { transform: "scale(1.08)" }, { transform: "scale(1)" }], {
        duration: 600,
        iterations: 1
      });
    }
  }, 2000);
})();


    </script>

    <script src="lawdata.js"></script>
    <script src="main.js"></script>
</body>


</html>


















